Phase 1 - Typecheck
    1. Turn AST into symbols
    2. Construct a graph